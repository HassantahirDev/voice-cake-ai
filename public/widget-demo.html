<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceCake Widget Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }
        
        .demo-section {
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
        }
        
        .code-block {
            background: #2d3748;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .code-block code {
            color: #e2e8f0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .feature-list li:before {
            content: "‚úÖ ";
            margin-right: 10px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .note {
            background: rgba(255, 193, 7, 0.2);
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé§ VoiceCake Widget Demo</h1>
        
        <div class="demo-section">
            <h2>üöÄ Quick Start</h2>
            <p>Add this single line to your website's <code>&lt;head&gt;</code> tag:</p>
            
            <div class="code-block">
                <code>&lt;script src="https://your-domain.com/voicecake-widget.js" data-agent-id="YOUR_AGENT_ID"&gt;&lt;/script&gt;</code>
            </div>
            
            <p>That's it! The widget will automatically appear in the bottom-left corner of your website.</p>
        </div>
        
        <div class="demo-section">
            <h2>‚öôÔ∏è Configuration Options</h2>
            <p>Customize the widget with data attributes:</p>
            
            <div class="code-block">
                <code>&lt;script 
    src="https://your-domain.com/voicecake-widget.js" 
    data-agent-id="YOUR_AGENT_ID"
    data-position="bottom-right"
    data-theme="dark"
    data-size="large"&gt;
&lt;/script&gt;</code>
            </div>
            
            <h3>Available Options:</h3>
            <ul class="feature-list">
                <li><strong>data-agent-id</strong> (required): Your VoiceCake agent ID</li>
                <li><strong>data-position</strong>: bottom-left, bottom-right, top-left, top-right</li>
                <li><strong>data-theme</strong>: light, dark</li>
                <li><strong>data-size</strong>: small, medium, large</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <h2>üîß Programmatic Initialization</h2>
            <p>For more control, initialize the widget programmatically:</p>
            
            <div class="code-block">
                <code>// Load the widget script
const script = document.createElement('script');
script.src = 'https://your-domain.com/voicecake-widget.js';
document.head.appendChild(script);

// Initialize when loaded
script.onload = function() {
    window.VoiceCakeWidget.init({
        agentId: 'YOUR_AGENT_ID',
        position: 'bottom-right',
        theme: 'dark',
        size: 'large'
    });
};</code>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>üéØ Features</h2>
            <ul class="feature-list">
                <li>Real-time voice conversation with your AI agent</li>
                <li>Automatic microphone permission handling</li>
                <li>High-quality audio streaming</li>
                <li>Responsive design - works on all devices</li>
                <li>Customizable appearance and position</li>
                <li>No dependencies - pure JavaScript</li>
                <li>Works with any website (React, Vue, WordPress, etc.)</li>
                <li>Secure WebSocket connection to your backend</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <h2>üìã Implementation Examples</h2>
            
            <h3>For React/Next.js:</h3>
            <div class="code-block">
                <code>// In your _app.js or layout component
useEffect(() => {
    const script = document.createElement('script');
    script.src = 'https://your-domain.com/voicecake-widget.js';
    script.setAttribute('data-agent-id', 'YOUR_AGENT_ID');
    document.head.appendChild(script);
}, []);</code>
            </div>
            
            <h3>For WordPress:</h3>
            <div class="code-block">
                <code>// Add to your theme's header.php or via plugin
&lt;script src="https://your-domain.com/voicecake-widget.js" 
        data-agent-id="&lt;?php echo get_option('voicecake_agent_id'); ?&gt;"&gt;
&lt;/script&gt;</code>
            </div>
            
            <h3>For Static HTML:</h3>
            <div class="code-block">
                <code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;My Website&lt;/title&gt;
    &lt;script src="https://your-domain.com/voicecake-widget.js" 
            data-agent-id="YOUR_AGENT_ID"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Welcome to my website!&lt;/h1&gt;
    &lt;!-- Widget will appear automatically --&gt;
&lt;/body&gt;
&lt;/html&gt;</code>
            </div>
        </div>
        
        <div class="note">
            <strong>Note:</strong> Replace <code>https://your-domain.com</code> with your actual domain where the widget file is hosted, and <code>YOUR_AGENT_ID</code> with your actual VoiceCake agent ID.
        </div>
        
        <div class="demo-section">
            <h2>üîó API Reference</h2>
            <p>The widget exposes these methods globally:</p>
            
            <div class="code-block">
                <code>// Initialize widget
window.VoiceCakeWidget.init(config);

// Destroy widget
window.VoiceCakeWidget.destroy();

// Check if widget is active
window.VoiceCakeWidget.state.isActive;

// Check connection status
window.VoiceCakeWidget.state.isConnected;</code>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>üé® Customization</h2>
            <p>The widget uses CSS custom properties for easy theming:</p>
            
            <div class="code-block">
                <code>/* Override widget styles */
.voicecake-widget-button {
    background: linear-gradient(135deg, #your-color1, #your-color2) !important;
}

.voicecake-widget-popup {
    border-radius: 20px !important;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3) !important;
}</code>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <a href="#" class="btn" onclick="testWidget()">Test Widget</a>
            <a href="#" class="btn" onclick="destroyWidget()">Destroy Widget</a>
        </div>
    </div>
    
    <!-- VoiceCake Widget - This is what your clients will add -->
    <script src="voicecake-widget.js" 
            data-agent-id="49" 
            data-position="bottom-right" 
            data-theme="light">
    </script>
    
    <script>
        // Demo functions
        function testWidget() {
            if (window.VoiceCakeWidget) {
                window.VoiceCakeWidget.init({
                    agentId: '49',
                    position: 'bottom-right',
                    theme: 'light',
                    size: 'medium'
                });
                alert('Widget initialized! Check the bottom-right corner.');
            } else {
                alert('Widget not loaded yet. Please wait a moment and try again.');
            }
        }
        
        function destroyWidget() {
            if (window.VoiceCakeWidget) {
                window.VoiceCakeWidget.destroy();
                alert('Widget destroyed!');
            } else {
                alert('Widget not found.');
            }
        }
        
        // Auto-test on page load
        window.addEventListener('load', function() {
            setTimeout(() => {
                if (window.VoiceCakeWidget) {
                    console.log('VoiceCake Widget loaded successfully!');
                } else {
                    console.error('VoiceCake Widget failed to load');
                }
            }, 2000);
        });
    </script>
</body>
</html>
